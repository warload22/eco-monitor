# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–≥–æ–¥–Ω—ã—Ö —Å–ª–æ–µ–≤ - –û—Ç—á–µ—Ç

–î–∞—Ç–∞: 26 —è–Ω–≤–∞—Ä—è 2026

## –ü—Ä–æ–±–ª–µ–º–∞

–°–ª–æ–∏ —Ç–µ–ø–ª–æ–≤–æ–π –∫–∞—Ä—Ç—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–ª—è –≤–µ—Ç—Ä–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ.

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±—ç–∫–µ–Ω–¥–∞ (API)

### ‚úÖ –°—Ç–∞—Ç—É—Å: **–†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û**

#### –¢–µ—Å—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:
```
GET /api/weather/map-grid
- –°—Ç–∞—Ç—É—Å: 200 OK
- –î–∞–Ω–Ω—ã—Ö: 441 —Ç–æ—á–∫–∞
- –§–æ—Ä–º–∞—Ç: JSON –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- –ü—Ä–∏–º–µ—Ä: {"lat": 55.55, "lon": 37.35, "value": 20.0}

GET /api/weather/wind-vectors
- –°—Ç–∞—Ç—É—Å: 200 OK
- –î–∞–Ω–Ω—ã—Ö: 121 –≤–µ–∫—Ç–æ—Ä
- –§–æ—Ä–º–∞—Ç: JSON –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- –ü—Ä–∏–º–µ—Ä: {"lat": 55.55, "lon": 37.35, "speed": 6.21, "direction": 135.0}
```

**–í—ã–≤–æ–¥:** API —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫, –¥–∞–Ω–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (JavaScript)

### –ü—Ä–æ–±–ª–µ–º—ã –Ω–∞–π–¥–µ–Ω—ã:

1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞** - –Ω–µ—Ç console.log –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
2. **–ù–µ—è—Å–Ω–æ, –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏** - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ø–æ—á–∫—É –≤—ã–∑–æ–≤–æ–≤
3. **–í–æ–∑–º–æ–∂–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –≤–∏–¥–∏–º–æ—Å—Ç—å—é —Å–ª–æ–µ–≤** - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã blur/radius –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏

### –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

#### –í `static/js/weatherLayers.js`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–µ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ features –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ

#### –í `static/js/layersControl.js`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å–ª–æ–µ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ DOM

#### –í `static/css/style.css`:
- ‚úÖ –°—Ç–∏–ª–∏ –¥–ª—è wind-tooltip –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- ‚úÖ –°—Ç–∏–ª–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

## –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `test_layers.html` –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–æ–µ–≤:
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏
- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ—è–º–∏
- –¢–µ—Å—Ç API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä (Chrome/Firefox/Edge)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://127.0.0.1:5000/`
3. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12)
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console
5. –ù–∞–π–¥–∏—Ç–µ —á–µ–∫–±–æ–∫—Å "üå°Ô∏è –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã" –≤ –ø–∞–Ω–µ–ª–∏ "–°–ª–æ–∏ –∫–∞—Ä—Ç—ã"
6. –í–∫–ª—é—á–∏—Ç–µ —á–µ–∫–±–æ–∫—Å
7. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏

### –®–∞–≥ 2: –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://127.0.0.1:5000/test_layers.html`
2. –ù–∞–∂–º–∏—Ç–µ "Test API" - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å OK
3. –ù–∞–∂–º–∏—Ç–µ "Toggle Heatmap" - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Ç–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞
4. –ù–∞–∂–º–∏—Ç–µ "Toggle Wind Vectors" - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Ç—Ä–µ–ª–∫–∏ –≤–µ—Ç—Ä–∞
5. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –®–∞–≥ 3: –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

–ò—â–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
- `[WeatherLayers] Starting initialization...` - —Å–ª–æ–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è
- `[WeatherLayers] Heatmap layer added to map` - —Å–ª–æ–π –¥–æ–±–∞–≤–ª–µ–Ω
- `[LayersControl] Heatmap checkbox changed: true` - —á–µ–∫–±–æ–∫—Å —Å—Ä–∞–±–æ—Ç–∞–ª
- `[Heatmap] Loading temperature data...` - –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- `[Heatmap] Added X features to source` - —Ç–æ—á–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. –°–ª–æ–π —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ–≤–∏–¥–∏–º
**–ü—Ä–∏–∑–Ω–∞–∫:** –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É, –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–∏–¥–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–∏—Ç—å radius –∏ —É–º–µ–Ω—å—à–∏—Ç—å blur –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Heatmap

#### 2. –î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
**–ü—Ä–∏–∑–Ω–∞–∫:** –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å –≤ DevTools, –≤–∫–ª–∞–¥–∫–∞ Network

#### 3. –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è
**–ü—Ä–∏–∑–Ω–∞–∫:** –ù–µ—Ç –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –Ω–∞ —á–µ–∫–±–æ–∫—Å
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

#### 4. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
**–ü—Ä–∏–∑–Ω–∞–∫:** –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –Ω–æ –∫–∞—Ä—Ç–∞ –Ω–µ –≤ —Ç–æ–º –º–µ—Å—Ç–µ
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–∞—Ä—Ç–∞ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –ú–æ—Å–∫–≤–µ (55.76, 37.62)

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ª–æ–µ–≤

### –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞:
```javascript
blur: 25      // –†–∞–∑–º—ã—Ç–∏–µ (–º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –¥–æ 15 –¥–ª—è —á–µ—Ç–∫–æ—Å—Ç–∏)
radius: 20    // –†–∞–¥–∏—É—Å –≤–ª–∏—è–Ω–∏—è (–º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 30-40)
opacity: 0.6  // –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
```

### –í–µ–∫—Ç–æ—Ä—ã –≤–µ—Ç—Ä–∞:
```javascript
points: 3     // –¢—Ä–µ—É–≥–æ–ª—å–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞
radius: 8     // –†–∞–∑–º–µ—Ä —Å—Ç—Ä–µ–ª–∫–∏ (–º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 12-15)
opacity: 0.8  // –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
```

## –§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

- `routes/weather.py` - API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã ‚úÖ
- `static/js/weatherLayers.js` - –õ–æ–≥–∏–∫–∞ —Å–ª–æ–µ–≤ ‚úÖ (—Å –æ—Ç–ª–∞–¥–∫–æ–π)
- `static/js/layersControl.js` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—è–º–∏ ‚úÖ (—Å –æ—Ç–ª–∞–¥–∫–æ–π)
- `static/js/map.js` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
- `templates/index.html` - HTML-—à–∞–±–ª–æ–Ω
- `test_layers.html` - –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚úÖ NEW

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

- [x] API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞ –≤ JavaScript
- [x] –°–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –°–ª–æ–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –°–æ–∑–¥–∞–Ω –∫–æ–º–º–∏—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
